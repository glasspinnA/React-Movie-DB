(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(64)},32:function(e,t,a){},36:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),s=(a(32),a(1)),o=a.n(s),l=a(3),u=a(19),d=a(20),m=a(24),h=a(21),v=a(25),g=(a(36),a(22)),p=a.n(g),f=a(23),b=a.n(f),w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=Object(l.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchGenres();case 2:0===a.state.movieList.length&&a.fetchMovieByGenre(null,12,"Action");case 3:case"end":return e.stop()}},e,this)})),a.fetchGenres=Object(l.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/genre/movie/list?api_key=d50ecfa4de79b35a1cc43cc6ddcd1373&language=en-US",e.next=3,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=d50ecfa4de79b35a1cc43cc6ddcd1373&language=en-US").then(function(e){return e.json()}).then(function(e){a.setState({genreList:e.genres,isLoading:!1})}).catch(function(e){alert(e.message)});case 3:case"end":return e.stop()}},e,this)})),a.fetchMovieByGenre=function(){var e=Object(l.a)(o.a.mark(function e(t,n,r){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({activePage:1,movieList:[],genreName:r});try{t.stopPropagation()}catch(c){}return i="https://api.themoviedb.org/3/discover/movie?api_key=d50ecfa4de79b35a1cc43cc6ddcd1373&language=en-US&with_genres="+n,e.next=5,fetch(i).then(function(e){return e.json()}).then(function(e){a.setState({movieList:e.results,genreId:n,isLoading:!1,totalResults:e.total_results})}).catch(function(e){alert(e.message)});case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.searchMovie=function(){var e=Object(l.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.timer&&clearTimeout(a.timer),a.timer=setTimeout(Object(l.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1)){e.next=4;break}return t="https://api.themoviedb.org/3/search/movie?api_key=d50ecfa4de79b35a1cc43cc6ddcd1373&query="+n,e.next=4,fetch(t).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({movieList:e.results,isLoading:!1,totalPages:e.total_pages,totalResults:e.total_results})}).catch(function(e){alert(e.message)});case 4:case"end":return e.stop()}},e,this)})),300);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handlePageChange=function(){var e=Object(l.a)(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({activePage:t}),"https://api.themoviedb.org/3/discover/movie?api_key=d50ecfa4de79b35a1cc43cc6ddcd1373&language=en-US&with_genres=",n=a.state.genreId+"&page="+t,r="https://api.themoviedb.org/3/discover/movie?api_key=d50ecfa4de79b35a1cc43cc6ddcd1373&language=en-US&with_genres="+n,e.next=6,fetch(r).then(function(e){return e.json()}).then(function(e){a.setState({movieList:e.results,isLoading:!1})}).catch(function(e){alert(e.message)});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={genreList:[],movieList:[],isLoading:!0,movieQuery:void 0,movieCategory:void 0,genreId:void 0,genreName:void 0,activePage:1,totalPages:void 0,totalResults:1},a.timer=0,a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.movieList,n=t.genreList;return t.isLoading?r.a.createElement("div",null,"Loading"):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",placeholder:"Search Movie",onChange:function(t){return e.searchMovie(t)}}),r.a.createElement("span",{className:"search-icon"},r.a.createElement(p.a,{icon:"search",invert:!0,color:"#FFF"})))),r.a.createElement("div",{className:"menu"},r.a.createElement("ul",null,n.map(function(t){return r.a.createElement("li",{key:t.id,onClick:function(a){e.fetchMovieByGenre(a,t.id,t.name)}},t.name)}))),r.a.createElement("div",{className:"dashboard-content"},r.a.createElement("h1",null,"You want to see ",this.state.genreName," tonight"),r.a.createElement("div",{className:"movie-container"},a.map(function(e){return r.a.createElement("div",{className:"dashboard-content-movie",key:e.id},r.a.createElement("img",{alt:"No Poster Available",src:"http://image.tmdb.org/t/p/w185/"+e.poster_path}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,e.title)),r.a.createElement("p",null,e.vote_average," \u2b50"))})),r.a.createElement(b.a,{activePage:this.state.activePage,totalItemsCount:this.state.totalResults,pageRangeDisplayed:3,itemsCountPerPage:20,onChange:function(t){return e.handlePageChange(t)},innerClass:"pagination",activeClass:"activeClass",itemClass:"itemClass",linkClass:"linkClass"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.7331a801.chunk.js.map